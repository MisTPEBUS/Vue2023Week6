import{_ as k,r as u,o as d,c as _,a as c,b as o,w as s,d as e,i as m,j as f,f as g}from"./index-7c27bc6f.js";const x={data(){return{checkSuccess:!1}},mounted(){this.checkLogin()},methods:{checkLogin(){const a=this.$cookies.get("token");if(a){this.axios.defaults.headers.common.Authorization=`${a}`;const n="https://vue3-course-api.hexschool.io/v2/api/user/check";this.axios.post(n,{api_token:this.token}).then(()=>{this.checkSuccess=!0}).catch(i=>{alert(i.response.data.message),this.$router.push("/login")})}else alert("您尚未登入。"),this.$router.push("/login")},signout(){document.cookie="hexToken=;expires=;",alert("token 已清除"),this.$router.push("/login")}}},v=c("h1",null,"你現在在後台頁面",-1),$={id:"nav"};function V(a,n,i,w,h,r){const t=u("RouterLink"),l=u("RouterView");return d(),_("div",null,[v,c("div",$,[o(t,{to:"/"},{default:s(()=>[e("回到前台")]),_:1}),e(" | "),o(t,{to:"/admin/products"},{default:s(()=>[e("後台產品管理")]),_:1}),e(" | "),o(t,{to:"/admin/orders"},{default:s(()=>[e("後台訂單管理")]),_:1}),e(" | "),o(t,{to:"/admin/coupon"},{default:s(()=>[e("後台優惠券管理")]),_:1}),e(" | "),o(t,{to:"/admin/Article"},{default:s(()=>[e("後台文案管理")]),_:1}),e(" | "),c("a",{href:"#",onClick:n[0]||(n[0]=m((...p)=>r.signout&&r.signout(...p),["prevent"]))},"登出")]),h.checkSuccess?(d(),f(l,{key:0})):g("",!0)])}const C=k(x,[["render",V]]);export{C as default};
